<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      
    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/css/abcjs-midi.css">
    <link rel="icon" href="https://cdn.glitch.com/4c1a86ab-31d9-449a-9f16-4378baabdc2c%2Ffavicon.ico?v=1580511400868" type="image/x-icon"/>
    <link rel="manifest" href="/manifest.json">
    <title>Cuando veo tu amor | Piano</title>
    <!-- VexFlow Compiled Source -->
    <!--<script src="/js/abcjs_basic_5.10.3-min.js" type="text/javascript"></script>-->
    <script src="/js/abcjs_midi_5.12.0-min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var abcmidi = "T: Cuando veo tu amor\n" +
        "C: Marco Barrientos\n" +
        "M: 4/4\n" +
        "L: 1/16\n" +
        //"%%stretchlast .7\n" +
        'Q: 65\n' +
        "R: Rubato\n" +
        "%%staves {R L}\n" +
        "V:R clef=treble\n" +
        "V:L clef=bass\n" +
        "K: A\n" +
        '[V:R] z3 B,[B,C]8-[B,C]2EA | [B,EG]3B, EG[A,CF]2-[A,CF]8 | [A,DE]3A, [A,DEA]12 |\n' +
        "[V:L] z E,A,2 [E,A,]12 & A,,16 | F,,C,A,2 [F,,C,A,]12 | D,,A,,F,2 [D,,A,,F,]12 |"+

        '[V:R] [F,A,DE]8 [G,E]8 | [F,A,E]3A, EA3-A6 [B,EG]2 | [A,DF]4 [A,CE]3B, CE!fermata!A2 [B,CEA]4 |\n' +
        "[V:L] [E,,E,]16 | D,,A,,F,2 [D,,A,,F,]8-[D,,A,,F,]2C,2 | B,,4 A,,E,A,2 [A,,E,A,2]8|" +

        '[V:R] [B,CEA]3E Aedc A2 [EFA]4-[DFA]2| [A,DA]8 [B,EB]8 ||\n' +
        "[V:L] C,A,C2 [C,A,C]4 D,A,3-A,4 | [F,,D,]8 [G,,E,]8 ||";

        var abc2 = 
        //"T: Cuando veo tu amor\n" +
        //"C: Marco Barrientos\n" +
        "M: 4/4\n" +
        "L: 1/16\n" +
        //"%%stretchlast .7\n" +
        'Q: 65\n' +
        //"R: Rubato\n" +
        "%%staves {R L}\n" +
        "V:R clef=treble\n" +
        "V:L clef=bass\n" +
        "K: A\n" +
        '[V:R] "D" [Af]4-[Af]3[Af] [Af]2[Ae][Ae]-[Ae][Af]3 | "E/F#" [B,EG]3B, EG[A,CF]2-"F#m"[A,CF]8 | "Dadd9" [A,DE]3A, [A,DEA]12 |\n' +
        "[V:L] z E,A,2 [E,A,]12 & A,,16 | F,,C,A,2 [F,,C,A,]12 | D,,A,,F,2 [D,,A,,F,]12 |"+

        '[V:R] "D/E"[F,A,DE]8 "E"[G,E]8 | "Dadd9" [F,A,E]3A, EA3-A6 "C#m7"[B,EG]2 | "Bm7"[A,DF]4 [A,CE]3B, CE!fermata!A2 [B,CEA]4 |\n' +
        "[V:L] [E,,E,]16 | D,,A,,F,2 [D,,A,,F,]8-[D,,A,,F,]2C,2 | B,,4 A,,E,A,2 [A,,E,A,2]8|" +

        '[V:R] "A/C#"[B,CEA]3E Aedc A2 [EFA]4-[DFA]2| "D/F#"[A,DA]8 "E/G#"[B,EB]8 ||\n' +
        "[V:L] C,A,C2 [C,A,C]4 D,A,3-A,4 | [F,,D,]8 [G,,E,]8 ||";

      function load() {

        let transposeValue = JSON.parse(localStorage.getItem("VEXTABdeltaTono"));
        console.log(transposeValue);

          ABCJS.renderAbc("paper", abc2,{
            scale:1.1,
            //staffwidth: 745,
            responsive: "resize",
            paddingleft: 0,
            paddingright: 0,
            paddingbottom: 0,
            add_classes: true,
            visualTranspose: transposeValue,
          });
          ABCJS.renderMidi("midi", abcmidi,{
            midiTranspose: transposeValue,
            //animate: { listener: function(abcjsElement, currentEvent, context) {}, target: abc2, qpm: 120 },
          });
          document.getElementById("paper").querySelectorAll(".abcjs-chord").forEach((el) => {
                el.setAttribute("fill", "#2159D6");
                el.setAttribute("stroke", "#2159D6");
          });

        /*ABCJS.startAnimation("paper", abc2, {
          showCursor: true,
        });*/

        
        /*-----------------------------Transportar partitura-----------------------------*/
        /*var transposeHalfSteps = document.querySelector(".transpose-half-steps");

        transposeHalfSteps.addEventListener("change", function() {
          ABCJS.renderAbc("paper", abc2, {
            visualTranspose: transposeHalfSteps.value
          });
        });*/
        var botonMas = document.querySelector(".botonTransportarMas");
        botonMas.addEventListener("click", function() {
          let transposeValue = JSON.parse(localStorage.getItem("VEXTABdeltaTono"));
          ABCJS.renderAbc("paper", abc2, {
            scale:1.1,
            responsive: "resize",
            paddingleft: 0,
            paddingright: 0,
            paddingbottom: 0,
            add_classes: true,
            visualTranspose: transposeValue,
          });
          ABCJS.renderMidi("midi", abcmidi,{
            midiTranspose: transposeValue,
          });
          document.getElementById("paper").querySelectorAll(".abcjs-chord").forEach((el) => {
                el.setAttribute("fill", "#2159D6");
                el.setAttribute("stroke", "#2159D6");
          });
        });

        var botonMas = document.querySelector(".botonTransportarMenos");
        botonMas.addEventListener("click", function() {
          let transposeValue = JSON.parse(localStorage.getItem("VEXTABdeltaTono"));
          ABCJS.renderAbc("paper", abc2, {
            scale:1.1,
            responsive: "resize",
            paddingleft: 0,
            paddingright: 0,
            paddingbottom: 0,
            add_classes: true,
            visualTranspose: transposeValue,
          });
          ABCJS.renderMidi("midi", abcmidi,{
            midiTranspose: transposeValue,
          });
          document.getElementById("paper").querySelectorAll(".abcjs-chord").forEach((el) => {
                el.setAttribute("fill", "#2159D6");
                el.setAttribute("stroke", "#2159D6");
          });
        });
      }
    </script>
    <!--<style>
      #paper .cursor {
        background-color: #e70606;
        opacity: 0.5
      }
    </style>-->
  </head>
  <body  onload="load()">
    <div class='encabezado-lista'> 
      <h2 class='tituloDelCanto'>Cuando veo tu amor</h2> 
      <h3 class='autorDelCanto'>Marco Barrientos</h3> 
      <div class ='arrowRegresar'>  
          <i class='fas fa-arrow-left'></i> 
      </div> 
      <div class ='arrowAvanzar'> 
          <i class='fas fa-arrow-right'></i> 
      </div> 
    </div> 

    <hr>

    <div class='infoCanto'> 
        <div class='tempo'> 
            <span style='font-size:18px;'>&#9833;</span>= 65
        </div> 
        <div class='nombre'> 
            PIANO 
        </div> 
        <div class='tono'> 
            Tono: <span class = 'AcordeCanto'>D</span> 
        </div> 
    </div> 

    <div class='canto_body'>  
      <div id="paper" style="overflow: hidden;"></div>
      <div id="midi"></div>
<!---------------Este es el limite----->  
      <pre data-key="D">
VERSO1:
%
        D       Bm7
Cuando veo tu amor 
         G            A7
Cuando escucho tu verdad
       D           Bm7
Cuando siento tu calor
    G          A7
Y admiro tu bondad

CORO:
     F#m7     Bm7
Me deléito en ti señor
      F#m7         Bm7
yo me gozo sólo en ti
      F#m7     Bm7
me sustento en tu amor
      Em7         D/F#  G           
y por siempre te alabaré   
___________________________________________________
1. A7    ||: D   A/D | G/D  A/D :|| d.s.
      Sólo a ti
___________________________________________________
2. D/A - F#7/A# 
      Bm7              F#m7
Yo me postro en tu presencia
    G             D/A   F#7/A#
te adoro en santidad
     Bm           F#m7
te bendigo con mi vida
     G            D/F#    G 
y yo quiero ofrendarme a ti 
G/A  A  | D  A/D | G - G/A A | D |
  en santidad 
      </pre>
<!---------------Este es el limite-----> 
      </div>   
  
        <div class = 'flechasRegresarAvanzar'> 
            <div class ='arrowRegresar2'> 
                <i class='fas fa-arrow-left'></i> 
            </div> 
            <div class ='arrowAvanzar2'> 
                <i class='fas fa-arrow-right'></i> 
            </div> 
        </div>
  
        <div class='divAudio'> 
        </div>
  
        <br> 
  
        <nav class = 'navCanto'> 
  
          <button class='botonTransportarMenos' style="font-weight: bold;">-1/2</button>
  
          <button class='botonTransportarMas' style="font-weight: bold;">+1/2</button>
  
          <!--<button class='botonTabChico' style="font-weight: bold;">Tab -</button>
  
          <button class='botonTabGrande' style="font-weight: bold;">Tab +</button>-->
  
          <button class='botonAudio'> 
            <i class='fas fa-music'></i> 
          </button>
  
          <button class='botonTextoChico'> 
            <i class='fas fa-text-height'> -</i> 
          </button>
  
          <button class='botonTextoGrande'> 
            <i class='fas fa-text-height'> +</i> 
          </button>
  
          <button class='botonCasa'> 
            <i class='fa fa-home'></i> 
          </button> 
      
        </nav>
        

    <!--<label>Transpose half-steps: 
      <input class="transpose-half-steps" type="number" min="-24" max="24" step="1" value="0">
    </label> -->

    <script>
      /*---------------Rotacion de la pantalla (pasar de 2 columnas a 1)-----------*/
function doOnOrientationChange() {
  //Para dispositivos moviles (IOS y Android)
  if (window.orientation != undefined){
    switch(window.orientation) {  
      case -90: case 90:
        cantoBody.style.columnCount= "1";
        break; 
      default:
        cantoBody.style.columnCount= "1";
        break; 
    }
  }
  
  //Para laptops
  /*else {
      let nav = document.querySelector(".navCanto");
      botonRotar = document.createElement('button');
      botonRotar.className = "botonRotar";
      let icono = document.createElement('i');
      icono.className = 'fas fa-sync-alt';
          //"<i class='fas fa-sync-alt'></i>";
      botonRotar.appendChild(icono);
      nav.appendChild(botonRotar);
  }*/
}
  
window.addEventListener('orientationchange', doOnOrientationChange);
  
// Initial execution if needed
if (window.orientation == undefined)
  doOnOrientationChange();
else
  cantoBody.style.columnCount= "1";

//Si presionan el boton rotar para PC o laptops
/*if (botonRotar){
  botonRotar.onclick = function(){
      if (document.querySelector(".canto_body").style.columnCount==""){
          document.querySelector(".canto_body").style.columnCount="2";
          console.log(document.querySelector(".canto_body").style.columnCount);
      }
      if (cantoBody.style.columnCount == "2")
          cantoBody.style.columnCount = "1";
      else
          cantoBody.style.columnCount = "2";
  }
}*/

  </script>
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.4.0/jquery.min.js"></script>
  <script type="text/javascript" src="/js/jquery.transposer.js"></script>
  <script type="text/javascript">
      $(function() {
        $("pre").transpose();
      });
    </script>
  <script src="/script.js" defer></script>
  
    <!--http://www.lesession.co.uk/abc/abc_notation.htm-->
  </body>
</html>
